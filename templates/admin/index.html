<!--
Copyright (C) 2012  University of Miami
 
This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License
 as published by the Free Software Foundation; either version 2
 of the License, or (at your option) any later version.
 
This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
 See the GNU General Public License for more details.
 
You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
-->
 
 
 {% extends "admin/base_site.html" %}
{% load i18n %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% load adminmedia %}{% admin_media_prefix %}css/dashboard.css" />{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block bodyclass %}dashboard{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div id="content-main">
<h3>{% trans "Change language:" %}</h3>
<form action="/i18n/setlang/" method="post">
{% csrf_token %}
<select name="language">
    <option value="en">{% trans "English" %}</option>
    <option value="es">{% trans "Spanish" %}</option>
</select>
<input type="submit" value="{% trans 'Go' %}" />
</form>
{% if app_list %}
    {% for app in app_list %}
        {% ifequal app.name "Archive" %}
        <div class="module">
        <table summary="{% trans 'Main models available in the Archive application.' %}">
        <caption><a href="#" class="section">{% trans "Main models" %}</a></caption>
        
            <tr>
                <th scope="row"><a href="/admin/archive/awardcandidate/">{% trans "Award Nominations / Wins" %}</a></th>
                <td><a href="/admin/archive/awardcandidate/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/awardcandidate/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="http://localhost/admin/publications/publication/">{% trans "Bibliographic Records" %}</a></th>
                <td><a href="http://localhost/admin/publications/publication/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="http://localhost/admin/publications/publication/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/collection/">{% trans "Collections" %}</a></th>
                <td><a href="/admin/archive/collection/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/collection/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/creator/">{% trans "Creators" %}</a></th>
                <td><a href="/admin/archive/creator/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/creator/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/festival/">{% trans "Festivals" %}</a></th>
                <td><a href="/admin/archive/festival/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/festival/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/festivaloccurrence/">{% trans "Festival Occurrences" %}</a></th>
                <td><a href="/admin/archive/festivaloccurrence/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/festivaloccurrence/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/location/">{% trans "Locations" %}</a></th>
                <td><a href="/admin/archive/location/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/location/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/digitalobject/">{% trans "Digital Objects" %}</a></th>
                <td><a href="/admin/archive/digitalobject/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/digitalobject/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/production/">{% trans "Productions" %}</a></th>
                <td><a href="/admin/archive/production/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/production/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/workrecord/">{% trans "Work records" %}</a></th>
                <td><a href="/admin/archive/workrecord/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/workrecord/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/role/">{% trans "Roles" %}</a></th>
                <td><a href="/admin/archive/role/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/role/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
        </table>
        </div>
        
    
        <div class="module">
        <table summary="{% trans 'Controlled lists available in the Archive application.' %}">
        <caption><a href="#" class="section">{% trans "Controlled lists" %}</a></caption>
        
            <tr>
                <th scope="row"><a href="/admin/archive/city/">{% trans "Cities" %}</a></th>
                <td><a href="/admin/archive/city/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/city/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/country/">{% trans "Countries" %}</a></th>
                <td><a href="/admin/archive/country/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/country/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/language/">{% trans "Languages" %}</a></th>
                <td><a href="/admin/archive/language/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/language/" class="changelink">{% trans "Change" %}</a></td>
            </tr>

            <tr>
                <th scope="row"><a href="/admin/archive/award/">{% trans "Awards" %}</a></th>
                <td><a href="/admin/archive/award/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/award/" class="changelink">{% trans "Change" %}</a></td>
            </tr>

            <tr>
                <th scope="row"><a href="/admin/archive/repository/">{% trans "Repositories" %}</a></th>
                <td><a href="/admin/archive/repository/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/repository/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/license/">{% trans "License types" %}</a></th>
                <td><a href="/admin/archive/license/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/license/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/subjectheading/">{% trans "Subject headings" %}</a></th>
                <td><a href="/admin/archive/subjectheading/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/subjectheading/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/physicalobjecttype/">{% trans "Physical object types" %}</a></th>
                <td><a href="/admin/archive/physicalobjecttype/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/physicalobjecttype/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/workrecordfunction/">{% trans "Work record functions" %}</a></th>
                <td><a href="/admin/archive/workrecordfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/workrecordfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/directingteamfunction/">{% trans "Directing team functions" %}</a></th>
                <td><a href="/admin/archive/directingteamfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/directingteamfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/castmemberfunction/">{% trans "Cast member functions" %}</a></th>
                <td><a href="/admin/archive/castmemberfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/castmemberfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/designteamfunction/">{% trans "Design team functions" %}</a></th>
                <td><a href="/admin/archive/designteamfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/designteamfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/techteamfunction/">{% trans "Tech team functions" %}</a></th>
                <td><a href="/admin/archive/techteamfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/techteamfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/productionteamfunction/">{% trans "Production team functions" %}</a></th>
                <td><a href="/admin/archive/productionteamfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/productionteamfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            
            <tr>
                <th scope="row"><a href="/admin/archive/orgfunction/">{% trans "Organization functions" %}</a></th>
                <td><a href="/admin/archive/orgfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/orgfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
            <tr>
                <th scope="row"><a href="/admin/archive/festivalfunction/">{% trans "Festival functions" %}</a></th>
                <td><a href="/admin/archive/festivalfunction/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/festivalfunction/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
        
        </table>
        </div>

        <div class="module">
        <table summary="{% trans 'Static pages, like the home page, about page, etc.' %}">
        <caption><a href="#" class="section">{% trans "Static pages" %}</a></caption>
        
            <tr>
                <th scope="row"><a href="/admin/archive/translatingflatpage/">{% trans "Static pages" %}</a></th>
                <td><a href="/admin/archive/translatingflatpage/add/" class="addlink">{% trans "Add" %}</a></td>
                <td><a href="/admin/archive/translatingflatpage/" class="changelink">{% trans "Change" %}</a></td>
            </tr>
            <tr>
                <th scope="row"><a href="/admin/archive/homepageinfo/">{% trans "Home page info" %}</a></th>
                <td></td>
                <td><a href="/admin/archive/homepageinfo/" class="changelink">{% trans "Change" %}</a></td>
            </tr>

        </table>
        </div>

        {% else %}
        
        <div class="module">
        <table summary="{% blocktrans with app.name as name %}Models available in the {{ name }} application.{% endblocktrans %}">
        <caption><a href="{{ app.app_url }}" class="section">{% blocktrans with app.name as name %}{{ name }}{% endblocktrans %}</a></caption>
        {% for model in app.models %}
            <tr>
            {% if model.perms.change %}
                <th scope="row"><a href="{{ model.admin_url }}">{{ model.name }}</a></th>
            {% else %}
                <th scope="row">{{ model.name }}</th>
            {% endif %}

            {% if model.perms.add %}
                <td><a href="{{ model.admin_url }}add/" class="addlink">{% trans 'Add' %}</a></td>
            {% else %}
                <td>&nbsp;</td>
            {% endif %}

            {% if model.perms.change %}
                <td><a href="{{ model.admin_url }}" class="changelink">{% trans 'Change' %}</a></td>
            {% else %}
                <td>&nbsp;</td>
            {% endif %}
            </tr>
        {% endfor %}
        </table>
        </div>
        {% endifequal %}
    {% endfor %}
{% else %}
    <p>{% trans "You don't have permission to edit anything." %}</p>
{% endif %}
</div>
{% endblock %}

{% block sidebar %}
<div id="content-related">
    <div class="module" id="recent-actions-module">
        <h2>{% trans 'Recent Actions' %}</h2>
        <h3>{% trans 'My Actions' %}</h3>
            {% load log %}
            {% get_admin_log 10 as admin_log for_user user %}
            {% if not admin_log %}
            <p>{% trans 'None available' %}</p>
            {% else %}
            <ul class="actionlist">
            {% for entry in admin_log %}
            <li class="{% if entry.is_addition %}addlink{% endif %}{% if entry.is_change %}changelink{% endif %}{% if entry.is_deletion %}deletelink{% endif %}">
                {% if entry.is_deletion %}
                    {{ entry.object_repr }}
                {% else %}
                    <a href="{{ entry.get_admin_url }}">{{ entry.object_repr }}</a>
                {% endif %}
                <br/>
                {% if entry.content_type %}
                    <span class="mini quiet">{% filter capfirst %}{% trans entry.content_type.name %}{% endfilter %}</span>
                {% else %}
                    <span class="mini quiet">{% trans 'Unknown content' %}</span>
                {% endif %}
            </li>
            {% endfor %}
            </ul>
            {% endif %}
    </div>
</div>
{% endblock %}
