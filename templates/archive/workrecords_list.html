{% extends "base.html" %}
{% load autop %}
{% load thumbnail %}
{% load i18n %}
{% load list_extras %}

{% block article_header %}
        <h1>Written Works{% if alpha %} &raquo; {{ alpha|upper }}{% endif %}</h1>
{% endblock %}

{% block content %}
        <header>
        <nav class="breadcrumbs">
            <ul>
                <li><a href="/">{% trans "Home" %}</a></li>
                <li>{% trans "Written Works" %}</li>
            </ul>
        </nav>
        <h2>{% trans "Written Works" %}</h2>
        </header>

        <ul id="random_thumbs">
        {% for obj in digital_objects %}
            <li>
                <figure>
                <a href="/writtenwork/{{ obj.work_id }}">
                    {% thumbnail obj.image "210x210" crop="center" as im %}
                        <img src="{{ im.url }}" />
                    {% endthumbnail %}
                </a>
                <figcaption><a href="/writtenwork/{{ obj.work_id }}">{{ obj.work_title }}</a></figcaption>
                </figure>
            </li>
        {% endfor %}
        </ul>
        
        {% alpha_list "writtenworks" %}
        
        <table id="writtenworks_list">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Type</th>
                    <th>Creators</th>
                    <th>Creation date</th>
                </tr>
            </thead>
            <tbody>
                {% for work in writtenworks_list %}
                    <tr>
                        <td><a href="/writtenwork/{{work.id}}">{{ work.title }}</a></td>
                        <td>{{ work.work_type.name }}</td>
                        <td>{% if work.creators_display %}{{ work.creators_display_links|safe }}{% endif %}</td>
                        <td>{% if work.creation_date %}{{ work.creation_date_display }}{% endif %}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        
        {% if is_paginated %}
        <div class="pagination">
            <span class="step-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
    
                <span class="current">
                    Page {{ page_obj.number }} of {{ paginator.num_pages }}.
                </span>
    
                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
        {% endif %}
{% endblock %}
